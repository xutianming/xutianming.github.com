
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Xutianming Blog</title>
  <meta name="author" content="Xutianming">

  
  <meta name="description" content="输入：
1 . 未说明有多少个input block C: while(scanf("%d %d",&amp;a,&amp;b)!=EOF) { ... }scanf返回的是输入的变量的个数，EOF=-1表示没有输入 C++： while(cin&gt;&gt;a&gt;&gt;b &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://xutianming.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Xutianming Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Xutianming Blog</a></h1>
  
    <h2>www.cnblogs.com/iteagle</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:xutianming.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/08/07/c-plus-plus-input-and-output/">C++输入输出总结</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-08-07T09:23:00+08:00" pubdate data-updated="true">Aug 7<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/08/07/c-plus-plus-input-and-output/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>输入：
1 . 未说明有多少个input block</p>

<pre><code>C:    while(scanf("%d %d",&amp;a,&amp;b)!=EOF) 
{    ...    }scanf返回的是输入的变量的个数，EOF=-1表示没有输入    
C++：    while(cin&gt;&gt;a&gt;&gt;b) {    ...    }2 . 说明有N个input block    
C：    scanf("%d",&amp;n) ;    for( i=0 ; i&lt;n ; i++ )     {...}     C++： cin &gt;&gt; n;   for( i=0 ; i&lt;n ; i++ )     { .... } 3 . 输入是一整行的字符串  
C语法：    char buf[20];       gets(buf);     C++语法：   如果用string buf;来保存：        getline( cin , buf );   如果用char buf[ 255 ]; 来保存：      cin.getline( buf, 255 );scanf(“ %s%s”,str1,str2)，在多个字符串之间用一个或多个空格分隔；若使用gets函数，应为gets(str1); gets(str2); 字符串之间用回车符作分隔。通常情况下，接受短字符用scanf函数，接受长字符用gets函数。而getchar函数每次只接受一个字符，经常c=getchar()这样来使用。getline 是一个函数，它可以接受用户的输入的字符，直到已达指定个数，或者用户输入了特定的字符。它的函数声明形式（函数原型）如下：  istream&amp; getline(char line[], int size, char endchar = '\n');不用管它的返回类型，来关心它的三个参数：
</code></pre>

<ul>
<li>char line[]： 就是一个字符数组，用户输入的内容将存入在该数组内。<em> int size : 最多接受几个字符？用户超过size的输入都将不被接受。</em> char endchar :当用户输入endchar指定的字符时，自动结束。默认是回车符。例如：char name[4];cin.getline(name,4,&lsquo;\n&rsquo;);由于 endchar 默认已经是 &lsquo;\n&#8217;，所以后面那行也可以写成：cin.getline(name,4);输出：
1 . 输出之后换行        C语法：    {      &hellip;.      printf(&ldquo;%d\n&rdquo;,ans);    }     C++语法：  {     &hellip;     cout &lt;&lt; ans &lt;&lt; endl;     } 2 . 每个输出之间有空行
  while(scanf(&ldquo;%d %d&rdquo;,&amp;a, &amp;b) != EOF)             printf(&ldquo;%d\n\n&rdquo;,a+b);    cout &lt;&lt; ans &lt;&lt; endl &lt;&lt; endl; 3 . 输出结束之后输出空行
  C语法：  for (k=0;k&lt;count;k++) {       while (…) {              printf(&ldquo; %d\n&rdquo;,result);     <br/>
    }     <br/>
    if (k!=count-1) printf(&ldquo;\n&rdquo;);   <br/>
  }     C++语法：  类似，输出语句换一下即可。
在学习了以上基础之后，我在HDUOJ上做了十几个题目来练习，也犯了不少错误，总结如下，以避免以后再犯，提高编程的成功率和效率：</li>
<li>未说明有多少个输入块时，scanf要和EOF比较，这个和cin的使用不同，不然的话OJ上会超时</li>
<li>同样的道理，也不要用<code>while(true)</code>来代替<code>while(cin&gt;&gt;a)</code>，也会在输入结束的时候，仍然执行从而超时</li>
<li>再就是输出有换行，要输出两个<code>endl</code>的时候，要注意假如指定输入个数，最后一次输出之后，不要再换行的。没指定有多少个输入的时候，则每次输出都换行。
另外，我还犯了其他一些低级错误，比如数据类型定义错误等等，这些错误自己调试的时候，不会出错，但是OJ上指定的某些测试用例肯定是没法通过的。所以要格外小心，OJ也不会告诉你哪个测试用例挂了，就很浪费时间，为了提高效率，写程序的时候就得多注意下，看清题目。</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/24/bye-my-childhood/">姥爷的老房子，我的童年</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-24T12:59:00+08:00" pubdate data-updated="true">Jul 24<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/07/24/bye-my-childhood/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>前几天，姥爷去世了。最疼爱我的姥爷，离开了。这几天一直在忙着各种后事，今天终于得以清闲，和爸爸妈妈一起给姥爷打扫房间，处理一些剩余的食物，几年来，也是第一次再好好看看这栋房子，也许，以后再也没机会了吧。</p>

<p>现在居住的大院里，几乎有我童年的所有回忆，从幼儿园起，我就在这所大院里玩，幼儿园-学前班-小学，直到小学五年级，我们家也搬了进来，住在姥爷家对面的楼上，于是，我的初中-高中也在这里度过。直到我考上大学，18岁，离开了泰安，去往武汉，再来到北京。一晃已经5年过去了，我也已经23岁了。</p>

<p>我生命的前十八年，几乎都是在这座大院里度过，几乎都和姥爷家密不可分，那时候，我几乎每天每星期，都会过来。都会亲亲姥爷的脸，都会吃姥爷给我买的零食。但是，随着姥爷的离开，也许过不了多久，我就要和这栋老房子说再见了。</p>

<p>我想在我的博客里，留下这些记忆。</p>

<p><img src="http://i.imgur.com/sm0cACZ.jpg" alt="Imgur" /></p>

<p>那时候，每天放学，我都会飞奔到姥爷家，看会报纸，吃会零食，放自行车，或者取家里的钥匙然后回家。姥爷经常会在我放学的点，站在门口的石榴树下等我回来，帮我停自行车，好让我赶紧回家休息。</p>

<p><img src="http://i.imgur.com/bquu6Dd.jpg" alt="Imgur" /></p>

<p>姥爷家的碳池子，秋天囤积碳，以供冬天取暖，不过已经废弃太久了，我记事起，这个就没用过，但是这成了我的游乐场所，我经常爬上爬下，从下面的小门里钻进钻出。</p>

<p><img src="http://i.imgur.com/DSjVd2p.jpg" alt="Imgur" /></p>

<p>姥爷门前的石榴树，也是我的乐园。由于疏于打理，每年夏天石榴树都会结很多的果子，但是秋天不到，大部分果子就都掉了。到了果实成熟的时候，往往只有几颗果子，这时候姥爷会分给我们几个小孩一人一个，超级甜。</p>

<p><img src="http://i.imgur.com/6hCeTbQ.jpg" alt="Imgur" /></p>

<p>正是7月底，就有些石榴炸开花了。大部分石榴都留不到秋天。</p>

<p><img src="http://i.imgur.com/LcbfokW.jpg" alt="Imgur" /></p>

<p>石榴树是很多蚂蚁的家。有时候我是这些蚂蚁的朋友，但大部分时间，我是他们的灾难。我会用开水烫，用脚踩，用针扎；偶尔无聊的时候，我会在小院里用蝇拍打苍蝇，喂他们，而且一般都不把苍蝇完全打死，看着苍蝇被蚂蚁撕咬。</p>

<p><img src="http://i.imgur.com/W74Vt1p.jpg" alt="Imgur" /></p>

<p>这是姥爷请人搭建的小储藏室，是他的百宝箱。他会把各种暂时用不到的东西都放进去，里面堆满了东西，但是都整齐的码在四周的墙上，屋子的中间还是留了很大的空地。姥爷是个仔细的人，什么都一丝不苟，力图做到干净整洁。墙上，还留有张贴姥爷讣告的痕迹。</p>

<p><img src="http://i.imgur.com/zIsTacF.jpg" alt="Imgur" /></p>

<p>进门是个小走廊，墙上的油迹还在，姥姥在世的时候，经常会在这里生火做饭，用小小的蜂窝煤炉子，想来现在应该再没人烧蜂窝煤了吧。那已经是十几年前的事情了。</p>

<p><img src="http://i.imgur.com/KuSvvfp.jpg" alt="Imgur" /></p>

<p>我长个子的时候，姥爷仔细的在墙上记录着我身高的变化，那是我小学的时候，等高中了，我已经比姥爷还高了。亲姥爷的时候，都需要弯下腰，姥爷要拍我的后脑勺，也得拉着我的脖子才可以。</p>

<p><img src="http://i.imgur.com/VQA7ptN.jpg" alt="Imgur" /></p>

<p>姥爷家的小院子，我的乐园。屋子窗下，姥爷搭的小台子，摆放一些杂物和花盆，台子下面，则是我的藏宝库，我把各种脏兮兮的玩意，藏在这下面，第二天继续玩。我在这里冻过冰，养过蝌蚪。</p>

<p><img src="http://i.imgur.com/xuEi1WQ.jpg" alt="Imgur" /></p>

<p>小院里的水龙头，姥姥会在这里洗菜洗衣服，这样不会弄脏屋子。而这里，是我的弹药补给地，那时候喜欢玩水，水枪、喷壶等等，石榴树上的蚂蚁，自然成了我的攻击对象。</p>

<p><img src="http://i.imgur.com/XUVWbUS.jpg" alt="Imgur" /></p>

<p>小院里的排水沟，姥爷自己通的，我经常在这里撒尿，一直到年纪很大了还这样，在墙上画地图，每次姥爷都会笑着骂我，但是从来没制止过我。</p>

<p><img src="http://i.imgur.com/gJSWPF4.jpg" alt="Imgur" /></p>

<p>进了屋子，是姥爷平时坐着喝茶的地方，最早的时候，姥爷和姥姥会在这里说话，后来只剩下了姥爷，再后来，姥爷也离开了。妈妈说我刚生下来，可以横着躺在沙发上，头脚都不会够到扶手。</p>

<p><img src="http://i.imgur.com/RxQrOYO.jpg" alt="Imgur" /></p>

<p>沙发旁的壁橱，姥爷放各种点心饮料的地方，每次来，我都会钻进壁橱，找我喜欢吃的东西。</p>

<p><img src="http://i.imgur.com/yL04Xdk.jpg" alt="Imgur" /></p>

<p>黑色的老鹰，一直都在，展翅雄飞。姥爷一直爱用的纸日历，已经好久没人撕了。小时候，每天早上我就会着急的撕下当天的日历，可是现在才明白，被撕去的日历，就是过去的时间，再也回不来了。</p>

<p><img src="http://i.imgur.com/VVZ2qox.jpg" alt="Imgur" /></p>

<p>姥爷的卧室，一如既往的整洁。姥爷每天下午的时光都是在这里度过的，睡了午觉，然后坐在写字台前练字，计划最近要做的事情，读报纸杂志。小时候，我趴在床上看《新白娘子传奇》的样子还历历在目，只是那时候的电视好小，也只有几个电视台。</p>

<p><img src="http://i.imgur.com/sOLBZFz.jpg" alt="Imgur" /></p>

<p>写字台的玻璃下面，会压着姥爷要记的事情，一些生活常识以及保健知识。还有所有孩子的电话。里面没有我的电话，因为一般都是我给姥爷打电话，而且我在外上学，号码常换。</p>

<p>物是人非，姥爷离开我们了，再也没人给我压岁钱，亲切的问我钱够不够花，学习情况怎么样，叮嘱我好好学习了。很快，爸爸妈妈也会搬离这个大院，住到新房子里，这里的样子，会越来越模糊吧。可是，这几乎我对泰安这个小城所有记忆的缩影，我18年最主要的记忆，都是和这里相关的。人总会长大，我也已经离开泰安5年了，还不知道以后会生活在哪个城市，但是应该很难再回来吧。</p>

<p><img src="http://i.imgur.com/8xQVz35.jpg" alt="Imgur" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/20/understanding-kernel-function/">核函数理解</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-20T11:13:00+08:00" pubdate data-updated="true">Jul 20<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/07/20/understanding-kernel-function/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>SVM相关的理论知识看过几遍，但是感觉一直都不是理解的很透彻，特别是核函数的概念。今天又查阅了大家写的学习笔记等资料，结合自己的实践经验，感觉对核函数的理解更进一步了，所以记录在这里。</p>

<p>一句话说明核函数的意义和作用：为使非线性可分问题转化为线性可分，将特征向量映射到高维，映射函数所满足的性质。</p>

<p>具体说来，svm可以直接解决线性可分的分类问题，对于近似线性可分的问题，通过增加松弛变量，也可以实现分类。那么对于非线性可分的问题呢，比较直观的想法是映射，也就是通过把特征映射到高维，使非线性可分问题转化为线性可分的问题。但是就一般的实际问题来讲，寻找这个映射很困难，而且很难有可推广的方法。于是提出了kernel trick。可以绕过寻找这个映射函数。</p>

<p>在理论公式的推导中，可以算出参数w的表示方法：</p>

<p><img src="http://i.imgur.com/KqPVcLl.png?1" alt="Imgur" /></p>

<p>于是分类超平面的函数也可以写成：</p>

<p><img src="http://i.imgur.com/UVGLjMS.png?3" alt="Imgur" /></p>

<p>这个公式中只有&lt;x(i),x>的内积形式，也就是说，我们映射之后，需要计算&lt;Fi(xi),Fi(x)>的内积。而我们定义的核函数，就是这一内积的形式。</p>

<p><img src="http://i.imgur.com/lLicBOp.png?1" alt="Imgur" /></p>

<p>如此一来，我们就可以用核函数直接替换内积，相当于，我们把原始的特征向量，映射到了高维，并且避免了寻找映射函数。而libsvm中推荐使用的RBF核函数，就是一个有着良好特性的核函数。可以将样本映射到一个更高维的空间，可以处理非线性的分类问题。而其关键的参数c和g分别为惩罚因子和核函数的参数。（RBF 核K(x, y) = exp(－γ || x －y ||的平方),γ > 0，g为gamma，就是r）。我们在使用libsvm训练之前，应该首先寻找最优的参数c和γ。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/19/text-classification-in-action/">文本分类实践</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-19T22:14:00+08:00" pubdate data-updated="true">Jul 19<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/07/19/text-classification-in-action/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>学习机器学习有一阵子了，先是仔细阅读了《统计学习方法》这本书，对目前比较流行的统计学习方法和模型有了大致的认识，比如朴素贝叶斯、逻辑斯蒂回归、支持向量机、隐马尔科夫模型等等。但是仅仅有理论上的认识是不够的，关键还是指导实践解决问题。</p>

<p>先前在百度实习的时候，已经对机器学习有了初步的认识，并且当时也利用逻辑斯蒂回归训练了一个还算不错的模型，虽然最终由于时间原因，没有做成一个可以应用到线上的模块，但是对于我对机器学习的这第一次尝试，我还是很满意的，当时也决定在研二的这一年里，好好研究一下机器学习相关的东西，以后好找相关方向的工作。</p>

<p>最初的实践决定从文本分类开始，因为这个领域相对来说研究的比较成熟，并且在工业界仍然有很多很重要的应用。由于svm一直是个非常重要的机器学习模型，之前对原理有一定的了解，于是决定从使用svm开始。网上相关的教程很多，我也是慢慢参考着别人的方法一步一步尝试。这里主要记录下我实践的过程，以供日后参考。</p>

<p>文本分类大致分为以下几步：</p>

<ul>
<li>数据预处理（一般是分词，去停）</li>
<li>特征选择（比较好的方法有卡方校验和信息增益）</li>
<li>特征值确定（比较好的是tf-idf值）</li>
<li>特征向量计算</li>
<li>模型训练</li>
<li>模型测试</li>
</ul>


<p>我使用的是复旦大学自然语言理解实验室提供的预料，选取了computer、agriculture、sports和history，选择分类的时候特意选择了差别比较大的几类，这样可以在某种程度上提高分类效果吧。</p>

<p>首先是数据预处理，我使用了同事推荐了一个分词工具，分词的效果不是很好，算是个初级的分词工具，基于python的，使用起来非常简单。分词之后，把预料中的文章，处理成了一个词一行的文档，便于下一步的处理。</p>

<p>数据预处理之后，就是选择特征了，这里所谓的“特征”，就是上一步分出来的一个一个的词，每个词都可以说是一个特征，但是把每个特征都哪来使用，显然是不现实的，太高维的特征向量，首先训练起来比较费时，另外会使模型复杂度提升从而容易使svm训练过拟合。我训练的时候，本想使用1w维的特征，最终使用了7600左右的特征，具体的我后面会说。考虑到以上原因，所以要有个特征选择的过程，也就是选择那些可以很好的区分每一类的词，比如包含了“农业”一词的文章，属于农业类的可能性比较大，所以这样的词，就算是好特征。那么如何筛选出这些特征呢，要有个数学上的量，来衡量特征的好坏，可供选择的有互信息、信息增益、卡方校验等方法。其中互信息的效果比较差，我就没自己尝试，我先后使用了信息增益和卡方校验的方法。</p>

<p>卡方校验，学名是“皮尔森卡方检验”，是一种假设检验方法。首先，我们的假设是“词word和类class不相关”，然后针对包含word的文档和以及属于class的文档的联合分布，算卡方值，每类选择卡方值最大的2500个值，去作为特征值，因为卡方值越大，倾向于原假设为假，也就是说，卡方值越大，词word和类class越相关，这个词就是我们要找的好特征。为啥是2500个值，因为我初步决定选择1w个特征么，一共四类，每一类选择2500个。最终计算下来，因为分词效果的原因，很多单字的特征被筛选出来，但是单字的信息非常少，我觉得不足以作为一个好的特征，所以我对于筛选出来的1w个特征，去除了那些单字的词，就剩下了大约7600个词作为特征。</p>

<p>特征选择出来之后，我们要利用这些特征去表示要分类的文档，也就是所谓的“把文档映射到特征空间”，用向量来表示文档。这里会遇到一个问题，如何用特征表示文档，另外每个特征对于一个文档都是等同重要的嘛？这里就自然涉及到为特征赋权重。我是用的是tf-idf值。选择这个的原因是，卡方校验有个缺陷，就是“低频率缺陷”，那些在一篇文档里只出现过一次的词，也有可能会有很大的卡方值，但是这个词，对这篇文章可能没太大价值，那些只在某一类文章中大量出现，而在其他类中很少出现的词，才是决定类别的词。而我个人认为tf-idf值可以比较好的弥补这一缺陷。当然我只是定性分析，我不太懂数学上的证明，也没去查阅相关的资料。</p>

<p>如此一来，我们把文档用特征向量来表示了，接下来就是训练模型了。在上述过程的实现过程中，我没有遇到太大的问题，unix+python是很有利的文本处理工具，实现起来很快。我是用的svm工具是libsvm，使用也很简单，但是我确实在训练模型的时候遇到了一个问题。</p>

<p>一般来讲，libsvm的使用流程是这样的：</p>

<ul>
<li>svm-scale，对数据进行归一化处理，映射到[0,1]区间内</li>
<li>grid.py 寻找最优参数c和g</li>
<li>svm-train</li>
<li>svm-predict</li>
</ul>


<p>我第一次使用的时候，用信息增益选择特征，libsvm不太懂，也没去查太多的资料，略去了第二步，也就是我训练的时候没指定参数。这训练效果太差了，把所有的文档都分到了一类中。一开始我总怀疑特征提取的不好，于是换卡方校验，结果还是这样，之后开始怀疑我训练的方法不对，于是很快发现了问题。在指定c和g参数之后，训练结果非常好，对训练数据的准确率为100%，在测试集上的准确率为93.52%，比人家论文上的准确率还高，非常让人振奋。</p>

<p>至此，算是完满的完成了一次svm文本分类的实践，结果也符合之前给自己定的目标90%以上的准确率。接下来，我会根据这次实践的结果，总结分析，再回归到svm的理论上，比如c和g具体含义对应的是什么，借此机会深入理解svm，好更好的掌握这个工具的使用。然后还会再用同样的方法，实践体会其他的分类模型，比如逻辑斯蒂回归、神经网络等等。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/11/invocation-target-exception/">由invocationTargetException引发的思考</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-11T16:28:00+08:00" pubdate data-updated="true">Jul 11<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/07/11/invocation-target-exception/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>最近接到的项目，终于过了第一轮，兴奋之余还是要静下心来好好研究代码。第二轮得分只有60分，意料之中，做的时候就发现有很多不会的了，当时及时记录下来，所以这次看代码也有针对性的多。</p>

<p>逻辑代码最大的问题还是出在异常处理上，有很多不合适的地方，不过经历过这次下次应该不会再犯了。测试依然疑问最多，很多莫名的异常不知道如何抛出，归根到底还是Java的基础不牢，不过这也不是一天两天的事情，见的多了自然熟悉。</p>

<p>今天看到一个很常见的异常&mdash;InvocationTargetException，顾名思义，在反射机制中，如果当前执行的方法所调用的方法抛出异常，会被包装成这个异常，</p>

<p>当然这在之前我是不知道的。因为在coding的时候，一写反射的语句，IDE会自动提示需要处理这个异常，于是乎很自然而然的就写上了catch（InvocationTargetException），不需要理由。可是当编写单元测试的时候问题就来了，你需要构造一套参数，让函数抛出这个异常以验证代码可以捕获这个异常。</p>

<p>最一开始是从研究Winner的代码开始的，看到Winner写的对应的测试，很是摸不着头脑，不知道Winner的参数为何可以导致异常，上网查资料，除了API只外几乎没有任何资料，API中对于这个异常又描述甚少。手头的各种Java工具书这时候也派不上用场了。无计可施，只好请教学长。其实这个问题大家平时都遇到过，因为反射是TC上最常用到的技术之一，可能是因为太不显眼，所以大家之前都不约而同的无视它了。现在提出来，于是我们一起摸索。</p>

<p>摸索的过程也是我学习的过程，很多思想我慢慢树立起来。构造异常测试，首先看配置文件，因为参数的不合法是导致异常的最常见原因。总之要充分利用项目文档所提供给我们的信息，这可以极大的提高开发的效率和质量。毕竟很多问题已经不需要我们去思考了，designer已经为我们考虑到，我们只需要照做。对于如此短的项目周期来说，这一点很重要。</p>

<p>这个异常是反射机制定义的异常，自然在开发文档中找不到了。接下来我们还是走了小小的弯路，我们找来了JDK的源码&hellip;&hellip;各种复杂的关系和调用，最终崩溃。放弃&hellip;&hellip;不过我还是学了一小招。参考源码确实能解决很多问题，但是这在简单的类中比较实用。比如说String这样的类，里面的诸如substring ,spilt等方法可以给我们提供算法的灵感。</p>

<p>学习Java最直接的工具还是API文档了。我无意间查到了抛出这个异常的newInstance方法，下面明确写着，当新建对象的类构造方法在被调用时抛出异常，此异常将被抛出。问题解决了：测试者提供的给构造方法的参数有两个，而此类构造方法只接受一个参数，于是乎异常被抛出。</p>

<p>最终的答案是简单的，但是要是在项目开发中意识到这个问题难度还是很大的，需要有对项目足够的理解再加上足够的开发经验才能做到。对项目整体功能的把握和对每个细节精确的理解，是我所发现的最大差距所在，也将是我近期努力的目标。毕竟所掌握的技术和各种编码技巧不是一个技术人员价值的最大体现。严谨的思维和对细节的把握才是技术人员身上的闪光点，这是无可替代的。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/11/blog-migration-announcement-and-markdown-trial/">博客迁移声明</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-11T13:12:00+08:00" pubdate data-updated="true">Jul 11<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/07/11/blog-migration-announcement-and-markdown-trial/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>从今天起，就要从原先的博客园博客迁移到我的github博客啦。以后这个博客上会更多的放我自己写的东西，然后博客园的博客用来进行日常学习摘抄和积累，毕竟博客园博客写起来更方便一些，也不需要在我的机器上。</p>

<p>由于现在这个博客很空，这几天我会陆续搬一些以前我自己写的东西在这上面，这样可以帮助我快速掌握这个博客的使用方法，并且也熟悉一下markdown的语法，以后真要写东西就不会为这些事情烦心了。</p>

<p>终于有了属于自己的博客站点，好开心，感谢github，感谢octopress。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/10/creating-a-github-blog-using-octopress/">Creating a Github Blog Using Octopress</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-10T10:56:00+08:00" pubdate data-updated="true">Jul 10<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/07/10/creating-a-github-blog-using-octopress/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content">
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Categories</h1>
    <ul id="category-list"><li><a href='/blog/categories/wen-ben-wa-jue/'>文本挖掘 (1)</a></li><li><a href='/blog/categories/ji-qi-xue-xi/'>机器学习 (2)</a></li><li><a href='/blog/categories/za-xiang/'>杂项 (2)</a></li><li><a href='/blog/categories/sheng-huo/'>生活 (1)</a></li><li><a href='/blog/categories/suan-fa-ji-chu/'>算法基础 (1)</a></li></ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/08/07/c-plus-plus-input-and-output/">C++输入输出总结</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/24/bye-my-childhood/">姥爷的老房子，我的童年</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/20/understanding-kernel-function/">核函数理解</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/19/text-classification-in-action/">文本分类实践</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/11/invocation-target-exception/">由invocationTargetException引发的思考</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/tmxu">@tmxu</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'tmxu',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>




<section>
  <h1>Tag Cloud</h1>
    <span id="tag-cloud"><a href='/blog/categories/文本挖掘' style='font-size: 130.0%'>文本挖掘(1)</a> <a href='/blog/categories/机器学习' style='font-size: 160.0%'>机器学习(2)</a> <a href='/blog/categories/杂项' style='font-size: 160.0%'>杂项(2)</a> <a href='/blog/categories/生活' style='font-size: 130.0%'>生活(1)</a> <a href='/blog/categories/算法基础' style='font-size: 130.0%'>算法基础(1)</a> </span>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Xutianming -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'xutianming';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
